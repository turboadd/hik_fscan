cmake_minimum_required(VERSION 3.10)
project(hik_adapter_static)

# ‚öôÔ∏è ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏ä‡πâ C++11 ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# üîç ‡πÄ‡∏û‡∏¥‡πà‡∏° source file ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï
file(GLOB HIK_SRC
    "${CMAKE_CURRENT_SOURCE_DIR}/src/*.cpp"
)

# üî® ‡∏™‡∏£‡πâ‡∏≤‡∏á static library (.a)
add_library(hik_adapter STATIC ${HIK_SRC})

# üìÇ ‡∏£‡∏ß‡∏° path header (.h) ‡∏ï‡πà‡∏≤‡∏á‡πÜ
target_include_directories(hik_adapter
    PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/includes
)

# üîó ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Å‡∏±‡∏ö HCNetSDK.lib
target_link_directories(hik_adapter
    PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/libs
)
target_link_libraries(hik_adapter
    PRIVATE HCNetSDK
)

# üì¶ output .a ‡πÑ‡∏õ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô libs/ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Go ‡πÉ‡∏ä‡πâ
set_target_properties(hik_adapter PROPERTIES
    ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/libs
)
